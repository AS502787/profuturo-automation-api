[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def requestAutenticacion = read('file:resources\/requestJson\/autenticacionUsuario.json')","result":{"duration":3681200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"21:16:29.852 << lock released, cached callSingle: classpath:pensionatapigee\/pensionatGetTokenApigee.feature","line":5}},{"name":"pensionatapigee\/pensionatGetTokenApigee.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":5,"doc_string":{"content_type":"","value":"{\n  \"env\": \"dev\",\n  \"myVarName\": \"someValue\",\n  \"authInfo\": {\n    \"authTime\": null,\n    \"authToken\": \"rhxNTw1ljOfL2YiKmnXyAszNWtTO\"\n  }\n}\n","line":5}},{"name":"def requestToken =","result":{"duration":2686900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5,"doc_string":{"content_type":"","value":"{\n\t'client_id' : '21gYjSJ7jie6GUCTGpQXYyTN1DUCkQBO',\n\t'client_secret' : 'g4QQkgiNr1xcqao1',\n\t'grant_type' : 'client_credentials'\n}\n21:16:28.331 karate.env system property was:  \n21:16:28.333 >> lock acquired, begin callSingle: classpath:pensionatapigee\/pensionatGetTokenApigee.feature","line":5}},{"name":"url 'https:\/\/api.qa.profuturo.mx\/oauth2\/token'","result":{"duration":6978200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":14},{"name":"header Content-Type = 'application\/x-www-form-urlencoded'","result":{"duration":1976600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":15},{"name":"form fields requestToken","result":{"duration":130600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"method POST","result":{"duration":1402019900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":17,"doc_string":{"content_type":"","value":"21:16:29.238 request:\n1 > POST https:\/\/api.qa.profuturo.mx\/oauth2\/token\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 103\n1 > Content-Type: application\/x-www-form-urlencoded; charset=UTF-8\n1 > Host: api.qa.profuturo.mx\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\nclient_id=21gYjSJ7jie6GUCTGpQXYyTN1DUCkQBO&client_secret=g4QQkgiNr1xcqao1&grant_type=client_credentials\n\n21:16:29.830 response time in milliseconds: 589.66\n1 < 200\n1 < Connection: keep-alive\n1 < Content-Length: 623\n1 < Content-Type: application\/json\n1 < Date: Tue, 03 Nov 2020 03:16:31 GMT\n{\n  \"refresh_token_expires_in\" : \"0\",\n  \"api_product_list\" : \"[ Pensiones_Tramites_QA, Grupo_Empleados_QA]\",\n  \"api_product_list_json\" : [ \" Pensiones_Tramites_QA\", \"Grupo_Empleados_QA\" ],\n  \"organization_name\" : \"profuturo\",\n  \"developer.email\" : \"jose.luis.rojas.perez@everis.com\",\n  \"token_type\" : \"BearerToken\",\n  \"issued_at\" : \"1604373391336\",\n  \"nombre\" : \"\",\n  \"client_id\" : \"21gYjSJ7jie6GUCTGpQXYyTN1DUCkQBO\",\n  \"access_token\" : \"rhxNTw1ljOfL2YiKmnXyAszNWtTO\",\n  \"application_name\" : \"85928fe5-309b-4f9a-a4d5-8513965b63a8\",\n  \"scope\" : \"\",\n  \"expires_in\" : \"3599\",\n  \"refresh_count\" : \"0\",\n  \"status\" : \"approved\"\n}","line":17}},{"name":"status 200","result":{"duration":14300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":18},{"name":"if (responseStatus != 200) karate.fail('Error al obtener status 200')","result":{"duration":6078900,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":19},{"name":"print 'Response: ', response","result":{"duration":3676600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":20,"doc_string":{"content_type":"","value":"21:16:29.841 [print] Response:  {\n  \"refresh_token_expires_in\": \"0\",\n  \"api_product_list\": \"[ Pensiones_Tramites_QA, Grupo_Empleados_QA]\",\n  \"api_product_list_json\": [\n    \" Pensiones_Tramites_QA\",\n    \"Grupo_Empleados_QA\"\n  ],\n  \"organization_name\": \"profuturo\",\n  \"developer.email\": \"jose.luis.rojas.perez@everis.com\",\n  \"token_type\": \"BearerToken\",\n  \"issued_at\": \"1604373391336\",\n  \"nombre\": \"\",\n  \"client_id\": \"21gYjSJ7jie6GUCTGpQXYyTN1DUCkQBO\",\n  \"access_token\": \"rhxNTw1ljOfL2YiKmnXyAszNWtTO\",\n  \"application_name\": \"85928fe5-309b-4f9a-a4d5-8513965b63a8\",\n  \"scope\": \"\",\n  \"expires_in\": \"3599\",\n  \"refresh_count\": \"0\",\n  \"status\": \"approved\"\n}","line":20}},{"name":"def access_token = response.access_token","result":{"duration":6730600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"print 'Token: ', access_token","result":{"duration":2184100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":22,"doc_string":{"content_type":"","value":"21:16:29.851 [print] Token:  rhxNTw1ljOfL2YiKmnXyAszNWtTO","line":22}},{"name":"def time = authInfo.authTime","result":{"duration":6602200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def token = authInfo.authToken","result":{"duration":2960500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"print token","result":{"duration":312700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8,"doc_string":{"content_type":"","value":"21:16:29.874 [print] rhxNTw1ljOfL2YiKmnXyAszNWtTO","line":8}},{"name":"print time","result":{"duration":202000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9,"doc_string":{"content_type":"","value":"21:16:29.875 [print]","line":9}}]},{"line":11,"name":"Validar el acceso en la aplicaci贸n por medio del API sea correcta.","description":"","id":"validar-el-acceso-en-la-aplicaci贸n-por-medio-del-api-sea-correcta.","type":"scenario","keyword":"Scenario","steps":[{"name":"url 'https:\/\/api.qa.profuturo.mx\/1\/empleados\/autenticacionUsuario'","result":{"duration":1981300,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":13},{"name":"header Authorization = 'Bearer ' + token","result":{"duration":3408700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":14},{"name":"header Content-Type = 'application\/json'","result":{"duration":1997100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":15},{"name":"request requestAutenticacion","result":{"duration":30100,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":16},{"name":"method POST","result":{"duration":768083700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":17,"doc_string":{"content_type":"","value":"21:16:29.885 request:\n1 > POST https:\/\/api.qa.profuturo.mx\/1\/empleados\/autenticacionUsuario\n1 > Accept-Encoding: gzip,deflate\n1 > Authorization: Bearer rhxNTw1ljOfL2YiKmnXyAszNWtTO\n1 > Connection: Keep-Alive\n1 > Content-Length: 96\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api.qa.profuturo.mx\n1 > User-Agent: Apache-HttpClient\/4.5.12 (Java\/1.8.0_251)\n{\"rqt\":{\"aplicacion\":\"expedientePensiones\",\"contrasena\":\"Profutur02019**\",\"usuario\":\"MC501422\"}}\n\n21:16:30.650 response time in milliseconds: 764.74\n1 < 200\n1 < Connection: keep-alive\n1 < Content-Type: application\/json;charset=utf-8\n1 < Date: Tue, 03 Nov 2020 03:16:32 GMT\n1 < Server: Apache-Coyote\/1.1\n1 < Transfer-Encoding: chunked\n1 < X-Backside-Transport: OK OK\n1 < X-Global-Transaction-ID: c388aa805fa0cb905357a7c7\n{\"confirmacion\":true,\"numeroEmpleado\":\"501422\"}","line":17}},{"name":"status 200","result":{"duration":9700,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":18},{"name":"if (responseStatus != 200) karate.fail('Error al obtener status 200')","result":{"duration":784200,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":19},{"name":"print 'Response: ', response","result":{"duration":882800,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":20,"doc_string":{"content_type":"","value":"21:16:30.653 [print] Response:  {\n  \"confirmacion\": true,\n  \"numeroEmpleado\": \"501422\"\n}","line":20}},{"name":"match response == {\"confirmacion\":true,\"numeroEmpleado\":\"501422\"}","result":{"duration":1741600,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":21}]}],"name":"src\/test\/java\/pensionatapigee\/pensionatAuthenticationApigee.feature","description":"MVP_API_Acceso, pantalla de autenticaci贸n","id":"mvp-api-acceso,-pantalla-de-autenticaci贸n","keyword":"Feature","uri":"src\/test\/java\/pensionatapigee\/pensionatAuthenticationApigee.feature"}]